version: 2

models:
  - name: workday__employee_daily_history
    description: Each record is a daily record in an employee, starting with its first active date and updating up toward either the current date (if still active) or its last active date.
    columns:
      - name: employee_day_id
        description: Surrogate key hashed on `date_day` and `employee_id`
        tests:
          - unique
          - not_null

      - name: date_day
        description: Date on which the account had these field values.

      - name: employee_id
        description: '{{ doc("employee_id") }}'

      - name: _fivetran_date
        description: '{{ doc("_fivetran_date") }}'

      - name: worker_id
        description: '{{ doc("worker_id") }}'

      - name: position_id
        description: '{{ doc("position_id") }}'

      - name: _fivetran_start
        description: '{{ doc("_fivetran_start") }}'

      - name: _fivetran_end
        description: '{{ doc("_fivetran_end") }}'

      - name: wh_active
        description: Is the worker history record the most recently active.

      - name: wph_active
        description: Is the worker position history record the most recently active.

      - name: wh_end_employment_date
        description: '{{ doc("end_employment_date") }}'

      - name: wph_end_employment_date
        description: '{{ doc("end_employment_date") }}'

      - name: wh_pay_through_date
        description: '{{ doc("pay_through_date") }}'

      - name: wph_pay_through_date
        description: '{{ doc("pay_through_date") }}'

      - name: termination_date
        description: '{{ doc("termination_date") }}'

      - name: academic_tenure_date
        description: '{{ doc("academic_tenure_date") }}'

      - name: active
        description: '{{ doc("active") }}'

      - name: active_status_date
        description: '{{ doc("active_status_date") }}'

      - name: annual_currency_summary_currency
        description: '{{ doc("annual_currency_summary_currency") }}'

      - name: annual_currency_summary_frequency
        description: '{{ doc("annual_currency_summary_frequency") }}'

      - name: annual_currency_summary_primary_compensation_basis
        description: '{{ doc("annual_currency_summary_primary_compensation_basis") }}'

      - name: annual_currency_summary_total_base_pay
        description: '{{ doc("annual_currency_summary_total_base_pay") }}'

      - name: annual_currency_summary_total_salary_and_allowances
        description: '{{ doc("annual_currency_summary_total_salary_and_allowances") }}'

      - name: annual_summary_currency
        description: '{{ doc("annual_summary_currency") }}'

      - name: annual_summary_frequency
        description: '{{ doc("annual_summary_frequency") }}'

      - name: annual_summary_primary_compensation_basis
        description: '{{ doc("annual_summary_primary_compensation_basis") }}'

      - name: annual_summary_total_base_pay
        description: '{{ doc("annual_summary_total_base_pay") }}'

      - name: annual_summary_total_salary_and_allowances
        description: '{{ doc("annual_summary_total_salary_and_allowances") }}'

      - name: benefits_service_date
        description: '{{ doc("benefits_service_date") }}'

      - name: company_service_date
        description: '{{ doc("company_service_date") }}'

      - name: compensation_effective_date
        description: '{{ doc("compensation_effective_date") }}'

      - name: compensation_grade_id
        description: '{{ doc("compensation_grade_id") }}'

      - name: compensation_grade_profile_id
        description: '{{ doc("compensation_grade_profile_id") }}'

      - name: continuous_service_date
        description: '{{ doc("continuous_service_date") }}'

      - name: contract_assignment_details
        description: '{{ doc("contract_assignment_details") }}'

      - name: contract_currency_code
        description: '{{ doc("contract_currency_code") }}'

      - name: contract_end_date
        description: '{{ doc("contract_end_date") }}'

      - name: contract_frequency_name
        description: '{{ doc("contract_frequency_name") }}'

      - name: contract_pay_rate
        description: '{{ doc("contract_pay_rate") }}'

      - name: contract_vendor_name
        description: '{{ doc("contract_vendor_name") }}'

      - name: date_entered_workforce
        description: '{{ doc("date_entered_workforce") }}'

      - name: days_unemployed
        description: '{{ doc("days_unemployed") }}'

      - name: eligible_for_hire
        description: '{{ doc("eligible_for_hire") }}'

      - name: eligible_for_rehire_on_latest_termination
        description: '{{ doc("eligible_for_rehire_on_latest_termination") }}'

      - name: employee_compensation_currency
        description: '{{ doc("employee_compensation_currency") }}'

      - name: employee_compensation_frequency
        description: '{{ doc("employee_compensation_frequency") }}'

      - name: employee_compensation_primary_compensation_basis
        description: '{{ doc("employee_compensation_primary_compensation_basis") }}'

      - name: employee_compensation_total_base_pay
        description: '{{ doc("employee_compensation_total_base_pay") }}'

      - name: employee_compensation_total_salary_and_allowances
        description: '{{ doc("employee_compensation_total_salary_and_allowances") }}'

      - name: end_employment_date
        description: '{{ doc("end_employment_date") }}'

      - name: expected_date_of_return
        description: '{{ doc("expected_date_of_return") }}'

      - name: expected_retirement_date
        description: '{{ doc("expected_retirement_date") }}'

      - name: first_day_of_work
        description: '{{ doc("first_day_of_work") }}'

      - name: is_has_international_assignment
        description: '{{ doc("has_international_assignment") }}'

      - name: hire_date
        description: '{{ doc("hire_date") }}'

      - name: hire_reason
        description: '{{ doc("hire_reason") }}'

      - name: is_hire_rescinded
        description: '{{ doc("hire_rescinded") }}'

      - name: home_country
        description: '{{ doc("home_country") }}'

      - name: hourly_frequency_currency
        description: '{{ doc("hourly_frequency_currency") }}'

      - name: hourly_frequency_frequency
        description: '{{ doc("hourly_frequency_frequency") }}'

      - name: hourly_frequency_primary_compensation_basis
        description: '{{ doc("hourly_frequency_primary_compensation_basis") }}'

      - name: hourly_frequency_total_base_pay
        description: '{{ doc("hourly_frequency_total_base_pay") }}'

      - name: hourly_frequency_total_salary_and_allowances
        description: '{{ doc("hourly_frequency_total_salary_and_allowances") }}'

      - name: last_datefor_which_paid
        description: '{{ doc("last_datefor_which_paid") }}'

      - name: local_termination_reason
        description: '{{ doc("local_termination_reason") }}'

      - name: months_continuous_prior_employment
        description: '{{ doc("months_continuous_prior_employment") }}'

      - name: is_not_returning
        description: '{{ doc("not_returning") }}'

      - name: original_hire_date
        description: '{{ doc("original_hire_date") }}'

      - name: pay_group_frequency_currency
        description: '{{ doc("pay_group_frequency_currency") }}'

      - name: pay_group_frequency_frequency
        description: '{{ doc("pay_group_frequency_frequency") }}'

      - name: pay_group_frequency_primary_compensation_basis
        description: '{{ doc("pay_group_frequency_primary_compensation_basis") }}'

      - name: pay_group_frequency_total_base_pay
        description: '{{ doc("pay_group_frequency_total_base_pay") }}'

      - name: pay_group_frequency_total_salary_and_allowances
        description: '{{ doc("pay_group_frequency_total_salary_and_allowances") }}'

      - name: pay_through_date
        description: '{{ doc("pay_through_date") }}'

      - name: primary_termination_category
        description: '{{ doc("primary_termination_category") }}'

      - name: primary_termination_reason
        description: '{{ doc("primary_termination_reason") }}'

      - name: probation_end_date
        description: '{{ doc("probation_end_date") }}'

      - name: probation_start_date
        description: '{{ doc("probation_start_date") }}'

      - name: reason_reference_id
        description: '{{ doc("reason_reference_id") }}'

      - name: is_regrettable_termination
        description: '{{ doc("regrettable_termination") }}'

      - name: is_rehire
        description: '{{ doc("rehire") }}'

      - name: resignation_date
        description: '{{ doc("resignation_date") }}'

      - name: is_retired
        description: '{{ doc("retired") }}'

      - name: retirement_date
        description: '{{ doc("retirement_date") }}'

      - name: retirement_eligibility_date
        description: '{{ doc("retirement_eligibility_date") }}'

      - name: is_return_unknown
        description: '{{ doc("return_unknown") }}'

      - name: seniority_date
        description: '{{ doc("seniority_date") }}'

      - name: severance_date
        description: '{{ doc("severance_date") }}'

      - name: is_terminated
        description: '{{ doc("is_terminated") }}'

      - name: termination_date
        description: '{{ doc("termination_date") }}'

      - name: is_termination_involuntary
        description: '{{ doc("termination_involuntary") }}'

      - name: termination_last_day_of_work
        description: '{{ doc("termination_last_day_of_work") }}'

      - name: time_off_service_date
        description: '{{ doc("time_off_service_date") }}'

      - name: universal_id
        description: '{{ doc("universal_id") }}'

      - name: user_id
        description: '{{ doc("user_id") }}'

      - name: vesting_date
        description: '{{ doc("vesting_date") }}'

      - name: worker_code
        description: '{{ doc("worker_code") }}'

      - name: effective_date

      - name: position_start_date

      - name: position_end_date


  - name: workday__monthly_summary
    description: Each record is a month, aggregated from the last day of each month of the employee daily history. This captures monthly metrics. 
    columns:
      - name: metrics_month
        description: Month in which metrics are being aggregated.
        tests:
          - unique
          - not_null

      - name: new_employees 
        description: New employees that came in this month.

      - name: churned_employees
        description: Churned employees that came in this month.
      
      - name: churned_voluntary_employees
        description: Voluntary churned employees that came in this month.
      
      - name: churned_involuntary_employees
        description: Involuntary churned employees that came in this month.
        
      - name: churned_workers
        description: Churned workers that came in this month.

      - name: active_employees
        description: Employees considered active this month.
      
      - name: active_male_employees
        description: Male employees considered active this month.

      - name: active_female_employees
        description: Female employees considered active this month.

      - name: active_workers
        description: Workers considered active this month.
      
      - name: active_known_gender_employees
        description: Known gender employees considered active this month.
      
      - name: avg_employee_primary_compensation
        description: Average primary compensation salary of employee that month.
      
      - name: avg_employee_base_pay
        description: Average base pay of the employee that month.
      
      - name: avg_employee_salary_and_allowances
        description: Average salary and allowances of the employee that month.
      
      - name: avg_days_as_employee
        description: Average days employee has been active month.
      
      - name: avg_worker_primary_compensation
        description: Average primary compensation for the worker this month.

      - name: avg_worker_base_pay
        description: Average base pay for the worker this month.

      - name: avg_worker_salary_and_allowances
        description: Average salary plus allowances for the worker this month.
      
      - name: avg_days_as_worker
        description: Average days as a worker this month. 

  - name: workday__worker_position_org_daily_history
    description: Each record is a daily record for a worker/position/organization combination, starting with its first active date and updating up toward either the current date (if still active) or its last active date.
    columns:
      - name: wpo_day_id
        description: Surrogate key hashed on `date_day` and `history_unique_key`
        tests:
          - unique
          - not_null
      - name: date_day
        description: Date on which the account had these field values.
      - name: worker_id
        description: '{{ doc("worker_id") }}'
        tests:
          - not_null

      - name: position_id
        description: '{{ doc("position_id") }}'
        tests:
          - not_null

      - name: organization_id
        description: '{{ doc("organization_id") }}'
        tests:
          - not_null 

      - name: _fivetran_start
        description: '{{ doc("_fivetran_start") }}'

      - name: _fivetran_end
        description: '{{ doc("_fivetran_end") }}'

      - name: _fivetran_date
        description: '{{ doc("_fivetran_date") }}'

      - name: history_unique_key
        description: Surrogate key hashed on `position_id`, `worker_id`, `organization_id`, and `_fivetran_start` .

      - name: _fivetran_active
        description: '{{ doc("_fivetran_active") }}'

      - name: _fivetran_synced
        description: '{{ doc("_fivetran_synced") }}'

      - name: index
        description: '{{ doc("index") }}'

      - name: date_of_pay_group_assignment
        description: '{{ doc("date_of_pay_group_assignment") }}'

      - name: primary_business_site
        description: '{{ doc("primary_business_site") }}'

      - name: is_used_in_change_organization_assignments
        description: '{{ doc("used_in_change_organization_assignments") }}'